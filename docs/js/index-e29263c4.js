function e(){import.meta.url,import("_").catch((()=>1))}import{D as s,o as t,c as r,a,R as o,P as n,a4 as i,T as l,u,s as c,e as d,r as m,C as p,O as f,a6 as h,aj as _}from"./@vue-6c75e83b.js";import{E as g,a as v,b as j,c as y,d as b,e as E,f as P,z as k,g as L,h as x,i as w,j as I}from"./element-plus-9c2b417e.js";import{d as C,s as O,c as T}from"./pinia-6423bbc2.js";import{e as $}from"./@element-plus-a1466eed.js";import{u as z,a as N,c as A,b as R}from"./vue-router-1d03852f.js";import{a as q}from"./axios-a540c308.js";import{s as D}from"./pinia-plugin-persistedstate-3ffd75ad.js";import{h as H}from"./moment-b265113e.js";import"./dayjs-4d0ffb58.js";import"./@vueuse-89c89079.js";import"./@ctrl-91de2ec7.js";import"./lodash-es-aaa217f4.js";import"./async-validator-8d480e59.js";import"./@popperjs-0e77d79c.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-500438c6.js";import"./vue-demi-71ba0ef2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const S=C({id:"user",state:()=>({userInfo:{userid:"",username:""}}),actions:{updateInfo(e){this.userInfo=e}},persist:!0}),G={class:"header"},M=a("div",{class:"title"},"后台管理系统",-1),V={class:"info-bar"},F={class:"el-dropdown-link"},U=a("span",null,[i(" 浏览量："),a("span",{id:"busuanzi_value_site_pv"},[a("i",{class:"fa fa-spinner fa-spin"})]),i("👀 | 访客数："),a("span",{id:"busuanzi_value_site_uv"},[a("i",{class:"fa fa-spinner fa-spin"})]),i("👦 ")],-1),B={class:"user-name"},K=s({__name:"Header",setup(e){const s=S(),{userInfo:c}=O(s),d=()=>{console.log("logout")};return(e,s)=>{const m=g,p=v,f=j,h=y;return t(),r("div",G,[M,a("div",V,[o(h,{trigger:"click",onCommand:d},{dropdown:n((()=>[o(f,{class:"user"},{default:n((()=>[o(p,{id:"btn_logout"},{default:n((()=>[i("注销")])),_:1})])),_:1})])),default:n((()=>[a("span",F,[U,a("span",B,l(u(c).username),1),o(m,{class:"el-icon--right"},{default:n((()=>[o(u($))])),_:1})])])),_:1})])])}}}),W={class:"side-nav"},J=s({__name:"Menus",setup(e){const s=z(),a=N(),l=c((()=>{var e;return(null==(e=s.matched[0])?void 0:e.path)||""})),d=e=>{a.push(e)};return(e,s)=>{const a=b,c=E,m=P;return t(),r("div",W,[o(m,{class:"menu-scrollbar"},{default:n((()=>[o(c,{router:!1,"default-active":u(l),"unique-opened":!0,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff",ref:"menu"},{default:n((()=>[o(a,{index:"/home",onClick:s[0]||(s[0]=e=>d("Home"))},{default:n((()=>[i("Home")])),_:1}),o(a,{index:"/form",onClick:s[1]||(s[1]=e=>d("Form"))},{default:n((()=>[i("表单")])),_:1}),o(a,{index:"/list",onClick:s[2]||(s[2]=e=>d("List"))},{default:n((()=>[i("列表")])),_:1}),i(" !")])),_:1},8,["default-active"])])),_:1})])}}}),Q=q.create({timeout:15e3});function X(){const{appContext:e}=d();return{Global:e.config.globalProperties}}Q.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",Q.interceptors.request.use((e=>e)),Q.interceptors.response.use((function(e){var s;return 0===(null==(s=e.data)?void 0:s.code)?e.data:Promise.reject(e.data)}),(function(e){const s=e.response||{status:400};let t=s.data&&s.data.message?s.data.message:e;return 404===s.status&&s.data&&(t="Not found service: "+s.data.path),s.data={code:-s.status,message:t},Promise.reject(s.data)}));const Y={style:{padding:"10px"}},Z=s({__name:"App",setup(e){const s=m(k),r=S(),{Global:i}=X();return p((()=>{Q({url:"/resource-api/user/current",method:"GET"}).then((e=>{r.updateInfo(e.data)})).catch((e=>{i.$message({type:"error",message:"获取登录信息失败，原因:"+e.message})}))})),(e,r)=>{const i=J,l=x,c=K,d=h("router-view"),m=w,p=L;return t(),f(p,{locale:u(s)},{default:n((()=>[o(m,{class:"body"},{default:n((()=>[o(l,{style:{width:"200px"},class:"menu-col"},{default:n((()=>[o(i)])),_:1}),o(l,{style:{width:"calc(100% - 200px)"},class:"page menu-col"},{default:n((()=>[o(c),a("div",Y,[(t(),f(d,{key:e.$route.fullPath}))])])),_:1})])),_:1})])),_:1},8,["locale"])}}}),ee={},se=function(e,s,t){if(!s||0===s.length)return e();const r=document.getElementsByTagName("link");return Promise.all(s.map((e=>{if(e=function(e,s){return new URL(e,s).href}(e,t),e in ee)return;ee[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!t)for(let t=r.length-1;t>=0;t--){const a=r[t];if(a.href===e&&(!s||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=s?"stylesheet":"modulepreload",s||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),s?new Promise(((s,t)=>{o.addEventListener("load",s),o.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},te=[{path:"/home",name:"home",component:()=>se((()=>import("./Home-a339dc39.js")),["./Home-a339dc39.js","./element-plus-9c2b417e.js","./@vue-6c75e83b.js","./dayjs-4d0ffb58.js","./@vueuse-89c89079.js","./@element-plus-a1466eed.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-99033c3b.css","./pinia-6423bbc2.js","./vue-demi-71ba0ef2.js","./vue-router-1d03852f.js","./axios-a540c308.js","./pinia-plugin-persistedstate-3ffd75ad.js","./moment-b265113e.js"],import.meta.url),beforeEnter:(e,s)=>{console.log("beforeEnter")}},{path:"/form",name:"form",component:()=>se((()=>import("./Form-fb6353d1.js")),["./Form-fb6353d1.js","./element-plus-9c2b417e.js","./@vue-6c75e83b.js","./dayjs-4d0ffb58.js","./@vueuse-89c89079.js","./@element-plus-a1466eed.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-99033c3b.css","./list-84457fac.js","./pinia-6423bbc2.js","./vue-demi-71ba0ef2.js","./vue-router-1d03852f.js","./axios-a540c308.js","./pinia-plugin-persistedstate-3ffd75ad.js","./moment-b265113e.js"],import.meta.url)},{path:"/list",name:"list",component:()=>se((()=>import("./List-96c7c788.js")),["./List-96c7c788.js","./element-plus-9c2b417e.js","./@vue-6c75e83b.js","./dayjs-4d0ffb58.js","./@vueuse-89c89079.js","./@element-plus-a1466eed.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-99033c3b.css","./vue-router-1d03852f.js","./list-84457fac.js","./pinia-6423bbc2.js","./vue-demi-71ba0ef2.js","./axios-a540c308.js","./pinia-plugin-persistedstate-3ffd75ad.js","./moment-b265113e.js"],import.meta.url)},{path:"/",redirect:"/home"}],re=A({history:R(),routes:te});H.locale("zh-cn");const ae=_(Z).config.globalProperties;ae.$ELEMENT={size:"small",zIndex:3e3},ae.$message=I,_(Z).use(T().use(D)).use(re).use(I).mount("#app");export{Q as $,e as __vite_legacy_guard,X as u};
