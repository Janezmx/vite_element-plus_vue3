function e(){import.meta.url,import("_").catch((()=>1))}import{D as t,o as s,c as r,a as o,R as a,P as n,a4 as i,T as l,u,s as c,e as d,r as m,C as p,O as f,a6 as h,aj as _}from"./@vue-6c75e83b.js";import{E as g,a as j,b as v,c as y,d as b,e as E,f as P,z as k,g as x,h as L,i as w,j as I}from"./element-plus-9c2b417e.js";import{d as C,s as O,c as T}from"./pinia-6423bbc2.js";import{e as $}from"./@element-plus-a1466eed.js";import{u as N,a as z,c as A,b as q}from"./vue-router-1d03852f.js";import{a as D}from"./axios-a540c308.js";import{s as H}from"./pinia-plugin-persistedstate-3ffd75ad.js";import{h as R}from"./moment-b265113e.js";import"./dayjs-4d0ffb58.js";import"./@vueuse-89c89079.js";import"./@ctrl-91de2ec7.js";import"./lodash-es-aaa217f4.js";import"./async-validator-8d480e59.js";import"./@popperjs-0e77d79c.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-500438c6.js";import"./vue-demi-71ba0ef2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const S=C({id:"user",state:()=>({userInfo:{userid:"",username:""}}),actions:{updateInfo(e){this.userInfo=e}},persist:!0}),G={class:"header"},M=o("div",{class:"title"},"后台管理系统",-1),V={class:"info-bar"},F={class:"el-dropdown-link"},B={class:"user-name"},K=t({__name:"Header",setup(e){const t=S(),{userInfo:c}=O(t),d=()=>{console.log("logout")};return(e,t)=>{const m=g,p=j,f=v,h=y;return s(),r("div",G,[M,o("div",V,[a(h,{trigger:"click",onCommand:d},{dropdown:n((()=>[a(f,{class:"user"},{default:n((()=>[a(p,{id:"btn_logout"},{default:n((()=>[i("注销")])),_:1})])),_:1})])),default:n((()=>[o("span",F,[o("span",B,l(u(c).username),1),a(m,{class:"el-icon--right"},{default:n((()=>[a(u($))])),_:1})])])),_:1})])])}}}),U={class:"side-nav"},W=t({__name:"Menus",setup(e){const t=N(),o=z(),l=c((()=>{var e;return(null==(e=t.matched[0])?void 0:e.path)||""})),d=e=>{o.push(e)};return(e,t)=>{const o=b,c=E,m=P;return s(),r("div",U,[a(m,{class:"menu-scrollbar"},{default:n((()=>[a(c,{router:!1,"default-active":u(l),"unique-opened":!0,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff",ref:"menu"},{default:n((()=>[a(o,{index:"/home",onClick:t[0]||(t[0]=e=>d("Home"))},{default:n((()=>[i("Home")])),_:1}),a(o,{index:"/form",onClick:t[1]||(t[1]=e=>d("Form"))},{default:n((()=>[i("表单")])),_:1}),a(o,{index:"/list",onClick:t[2]||(t[2]=e=>d("List"))},{default:n((()=>[i("列表")])),_:1}),i(" !")])),_:1},8,["default-active"])])),_:1})])}}}),J=D.create({timeout:15e3});function Q(){const{appContext:e}=d();return{Global:e.config.globalProperties}}J.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",J.interceptors.request.use((e=>e)),J.interceptors.response.use((function(e){var t;return 0===(null==(t=e.data)?void 0:t.code)?e.data:Promise.reject(e.data)}),(function(e){const t=e.response||{status:400};let s=t.data&&t.data.message?t.data.message:e;return 404===t.status&&t.data&&(s="Not found service: "+t.data.path),t.data={code:-t.status,message:s},Promise.reject(t.data)}));const X={style:{padding:"10px"}},Y=t({__name:"App",setup(e){const t=m(k),r=S(),{Global:i}=Q();return p((()=>{J({url:"/resource-api/user/current",method:"GET"}).then((e=>{r.updateInfo(e.data)})).catch((e=>{i.$message({type:"error",message:"获取登录信息失败，原因:"+e.message})}))})),(e,r)=>{const i=W,l=L,c=K,d=h("router-view"),m=w,p=x;return s(),f(p,{locale:u(t)},{default:n((()=>[a(m,{class:"body"},{default:n((()=>[a(l,{style:{width:"200px"},class:"menu-col"},{default:n((()=>[a(i)])),_:1}),a(l,{style:{width:"calc(100% - 200px)"},class:"page menu-col"},{default:n((()=>[a(c),o("div",X,[(s(),f(d,{key:e.$route.fullPath}))])])),_:1})])),_:1})])),_:1},8,["locale"])}}}),Z={},ee=function(e,t,s){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/admin-web/"+e}(e))in Z)return;Z[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!s)for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},te=[{path:"/home",name:"home",component:()=>ee((()=>import("./Home-9a11aecb.js")),["js/Home-9a11aecb.js","js/element-plus-9c2b417e.js","js/@vue-6c75e83b.js","js/dayjs-4d0ffb58.js","js/@vueuse-89c89079.js","js/@element-plus-a1466eed.js","js/@ctrl-91de2ec7.js","js/lodash-es-aaa217f4.js","js/async-validator-8d480e59.js","js/@popperjs-0e77d79c.js","js/escape-html-1935ddb3.js","js/normalize-wheel-es-500438c6.js","css/element-plus-99033c3b.css","js/pinia-6423bbc2.js","js/vue-demi-71ba0ef2.js","js/vue-router-1d03852f.js","js/axios-a540c308.js","js/pinia-plugin-persistedstate-3ffd75ad.js","js/moment-b265113e.js"]),beforeEnter:(e,t)=>{console.log("beforeEnter")}},{path:"/form",name:"form",component:()=>ee((()=>import("./Form-b9284e07.js")),["js/Form-b9284e07.js","js/element-plus-9c2b417e.js","js/@vue-6c75e83b.js","js/dayjs-4d0ffb58.js","js/@vueuse-89c89079.js","js/@element-plus-a1466eed.js","js/@ctrl-91de2ec7.js","js/lodash-es-aaa217f4.js","js/async-validator-8d480e59.js","js/@popperjs-0e77d79c.js","js/escape-html-1935ddb3.js","js/normalize-wheel-es-500438c6.js","css/element-plus-99033c3b.css","js/list-91759937.js","js/pinia-6423bbc2.js","js/vue-demi-71ba0ef2.js","js/vue-router-1d03852f.js","js/axios-a540c308.js","js/pinia-plugin-persistedstate-3ffd75ad.js","js/moment-b265113e.js"])},{path:"/list",name:"list",component:()=>ee((()=>import("./List-65cd522e.js")),["js/List-65cd522e.js","js/element-plus-9c2b417e.js","js/@vue-6c75e83b.js","js/dayjs-4d0ffb58.js","js/@vueuse-89c89079.js","js/@element-plus-a1466eed.js","js/@ctrl-91de2ec7.js","js/lodash-es-aaa217f4.js","js/async-validator-8d480e59.js","js/@popperjs-0e77d79c.js","js/escape-html-1935ddb3.js","js/normalize-wheel-es-500438c6.js","css/element-plus-99033c3b.css","js/vue-router-1d03852f.js","js/list-91759937.js","js/pinia-6423bbc2.js","js/vue-demi-71ba0ef2.js","js/axios-a540c308.js","js/pinia-plugin-persistedstate-3ffd75ad.js","js/moment-b265113e.js"])},{path:"/",redirect:"/home"}],se=A({history:q("/admin-web/"),routes:te});R.locale("zh-cn");const re=_(Y).config.globalProperties;re.$ELEMENT={size:"small",zIndex:3e3},re.$message=I,_(Y).use(T().use(H)).use(se).use(I).mount("#app");export{J as $,e as __vite_legacy_guard,Q as u};
