function e(){import.meta.url,import("_").catch((()=>1))}import{D as t,o as s,c as r,a as o,R as a,P as n,a4 as i,T as l,u,s as c,r as d,C as m,O as p,a6 as f,aj as h}from"./@vue-61e82e68.js";import{E as _,a as g,b as j,c as v,d as y,e as E,f as b,g as k,z as L,h as P,i as x,j as w}from"./element-plus-8e6384e1.js";import{d as I,s as C,c as O}from"./pinia-23eb96b6.js";import{a as T}from"./@element-plus-17b7322c.js";import{u as N,a as $,c as z,b as A}from"./vue-router-5d7048cc.js";import{a as R}from"./axios-a540c308.js";import{s as q}from"./pinia-plugin-persistedstate-3ffd75ad.js";import{h as D}from"./moment-b265113e.js";import"./dayjs-4d0ffb58.js";import"./@vueuse-2e722466.js";import"./@ctrl-91de2ec7.js";import"./lodash-es-aaa217f4.js";import"./async-validator-8d480e59.js";import"./@popperjs-0e77d79c.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-500438c6.js";import"./vue-demi-71ba0ef2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const H=I({id:"user",state:()=>({userInfo:{userid:"",username:""}}),actions:{updateInfo(e){this.userInfo=e}},persist:!0}),S={class:"header"},M=o("div",{class:"title"},"后台管理系统",-1),V={class:"info-bar"},F={class:"el-dropdown-link"},U={class:"user-name"},B=t({__name:"Header",setup(e){const t=H(),{userInfo:c}=C(t),d=()=>{console.log("logout")};return(e,t)=>{const m=_,p=g,f=j,h=v;return s(),r("div",S,[M,o("div",V,[a(h,{trigger:"click",onCommand:d},{dropdown:n((()=>[a(f,{class:"user"},{default:n((()=>[a(p,{id:"btn_logout"},{default:n((()=>[i("注销")])),_:1})])),_:1})])),default:n((()=>[o("span",F,[o("span",U,l(u(c).username),1),a(m,{class:"el-icon--right"},{default:n((()=>[a(u(T))])),_:1})])])),_:1})])])}}}),G={class:"side-nav"},K=t({__name:"Menus",setup(e){const t=N(),o=$(),l=c((()=>{var e;return(null==(e=t.matched[0])?void 0:e.path)||""})),d=e=>{o.push(e)};return(e,t)=>{const o=y,c=E,m=b;return s(),r("div",G,[a(m,{class:"menu-scrollbar"},{default:n((()=>[a(c,{router:!1,"default-active":u(l),"unique-opened":!0,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff",ref:"menu"},{default:n((()=>[a(o,{index:"/home",onClick:t[0]||(t[0]=e=>d("Home"))},{default:n((()=>[i("Home")])),_:1}),a(o,{index:"/form",onClick:t[1]||(t[1]=e=>d("Form"))},{default:n((()=>[i("表单")])),_:1}),a(o,{index:"/list",onClick:t[2]||(t[2]=e=>d("List"))},{default:n((()=>[i("列表")])),_:1}),i(" !")])),_:1},8,["default-active"])])),_:1})])}}}),W=R.create({timeout:15e3});W.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",W.interceptors.request.use((e=>e)),W.interceptors.response.use((function(e){var t;return 0===(null==(t=e.data)?void 0:t.code)?e.data:Promise.reject(e.data)}),(function(e){const t=e.response||{status:400};let s=t.data&&t.data.message?t.data.message:e;return 404===t.status&&t.data&&(s="Not found service: "+t.data.path),t.data={code:-t.status,message:s},Promise.reject(t.data)}));const J={style:{padding:"10px"}},Q=t({__name:"App",setup(e){const t=d(L),r=H();return m((()=>{W({url:"/resource-api/user/current",method:"GET"}).then((e=>{r.updateInfo(e.data)})).catch((e=>{k.error("获取登录信息失败，原因:"+e.message)}))})),(e,r)=>{const i=K,l=x,c=B,d=f("router-view"),m=w,h=P;return s(),p(h,{locale:u(t)},{default:n((()=>[a(m,{class:"body"},{default:n((()=>[a(l,{style:{width:"200px"},class:"menu-col"},{default:n((()=>[a(i)])),_:1}),a(l,{style:{width:"calc(100% - 200px)"},class:"page menu-col"},{default:n((()=>[a(c),o("div",J,[(s(),p(d,{key:e.$route.fullPath}))])])),_:1})])),_:1})])),_:1},8,["locale"])}}}),X={},Y=function(e,t,s){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,s),e in X)return;X[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!s)for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>s(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},Z=[{path:"/home",name:"home",component:()=>Y((()=>import("./Home-e83fce11.js")),["./Home-e83fce11.js","./@vue-61e82e68.js","./element-plus-8e6384e1.js","./dayjs-4d0ffb58.js","./@vueuse-2e722466.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-b0503344.css"],import.meta.url),beforeEnter:(e,t)=>{console.log("beforeEnter")}},{path:"/form",name:"form",component:()=>Y((()=>import("./Form-67d30938.js")),["./Form-67d30938.js","./element-plus-8e6384e1.js","./@vue-61e82e68.js","./dayjs-4d0ffb58.js","./@vueuse-2e722466.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-b0503344.css","./list-348cf6d5.js","./pinia-23eb96b6.js","./vue-demi-71ba0ef2.js","./@element-plus-17b7322c.js","./vue-router-5d7048cc.js","./axios-a540c308.js","./pinia-plugin-persistedstate-3ffd75ad.js","./moment-b265113e.js"],import.meta.url)},{path:"/list",name:"list",component:()=>Y((()=>import("./List-d6169cad.js")),["./List-d6169cad.js","./element-plus-8e6384e1.js","./@vue-61e82e68.js","./dayjs-4d0ffb58.js","./@vueuse-2e722466.js","./@ctrl-91de2ec7.js","./lodash-es-aaa217f4.js","./async-validator-8d480e59.js","./@popperjs-0e77d79c.js","./escape-html-1935ddb3.js","./normalize-wheel-es-500438c6.js","..\\css\\element-plus-b0503344.css","./vue-router-5d7048cc.js","./list-348cf6d5.js","./pinia-23eb96b6.js","./vue-demi-71ba0ef2.js","./@element-plus-17b7322c.js","./axios-a540c308.js","./pinia-plugin-persistedstate-3ffd75ad.js","./moment-b265113e.js"],import.meta.url)},{path:"/",redirect:"/home"}],ee=z({history:A(),routes:Z});D.locale("zh-cn");h(Q).config.globalProperties.$ELEMENT={size:"small",zIndex:3e3},h(Q).use(O().use(q)).use(ee).mount("#app");export{W as $,e as __vite_legacy_guard};
